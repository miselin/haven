pub fn printf(str fmt, *) -> i32;

type Wrapped = enum {
    Wrapped(i32^),
    NoValue
};

pub fn print(Wrapped value) -> void {
    match value {
        Wrapped::Wrapped(inner) => {
            printf("wrapped: %d\n", unbox inner);
        }
        _ => {
            printf("no value\n");
        }
    };
}

pub fn main() -> i32 {
    let inner = box as<i32>(5);
    let wrapped = Wrapped::Wrapped(inner);
    print(wrapped);

    0
}